<odoo>
    <record id="view_tree_libro_reclamaciones" model="ir.ui.view">
        <field name="name">view.tree.libro.reclamaciones</field>
        <field name="model">libro.reclamaciones</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="consumer_type"/>
                <field name="consumer_name"/>
                <field name="consumer_email"/>
                <field name="consumer_phone"/>
                <field name="consumer_state_id" optional="hide"/>
                <field name="consumer_younger" optional="hide"/>
                <field name="product_type"/>
                <field name="product_name"/>
                <field name="date_order"/>
                <field name="claim_type"/>
                <field name="create_date"/>
                <field name="state"/>
            </tree>
        </field>
    </record>

    <record id="view_form_libro_reclamaciones" model="ir.ui.view">
        <field name="name">view.form.libro.reclamaciones</field>
        <field name="model">libro.reclamaciones</field>
        <field name="arch" type="xml">
            <form>
                <header>
                    <field name="state" widget="statusbar"/>
                </header>
                <sheet>
                    <h1>
                        <field name="name" readonly="1" force_save="1"/>
                    </h1>
                    <group>
                        <field name="create_date" string="Fecha de reclamo"/>
                    </group>
                    <!-- IDENTIFICACIÓN DEL CONSUMIDOR RECLAMANTE -->
                    <group string="IDENTIFICACIÓN DEL CONSUMIDOR RECLAMANTE">
                        <group>
                            <field name="consumer_type" widget="radio"/>
                            <field name="consumer_company_name" attrs="{'invisible':[('consumer_type','=','individual')],'required':[('consumer_type','=','company')]}"/>
                            <field name="consumer_company_document" attrs="{'invisible':[('consumer_type','=','individual')],'required':[('consumer_type','=','company')]}"/>
                            <field name="consumer_name"/>
                            <field name="consumer_lastname"/>
                            <field name="consumer_document_type" widget="radio"/>
                            <field name="consumer_document"/>
                        </group>
                        <group>
                            <field name="consumer_phone"/>
                            <field name="consumer_address"/>
                            <field name="consumer_country_id" readonly="1" force_save="1"/>
                            <field name="consumer_state_id" 
                                    domain="[('state_id','=',False),('country_id','=',consumer_country_id)]"
                                    options="{'no_quick_create': True, 'no_create_edit' : True,'no_create':True}"/>
                            <field name="consumer_province_id" 
                                    domain="[('state_id','=',consumer_state_id),('province_id','=',False)]"
                                    options="{'no_quick_create': True, 'no_create_edit' : True,'no_create':True}"/>
                            <field name="consumer_district_id" 
                                    domain="[('state_id','=',consumer_state_id),('province_id','=',consumer_province_id)]"
                                    options="{'no_quick_create': True, 'no_create_edit' : True,'no_create':True}"/>
                            <field name="consumer_younger"/>
                        </group>
                    </group>
                    <!-- DATOS DEL PADRE, MADRE O TUTOR -->
                    <group string="DATOS DEL PADRE, MADRE O TUTOR" attrs="{'invisible':[('consumer_younger','=',False)]}">
                        <field name="consumer_younger_name" attrs="{'required':[('consumer_younger','=',True)]}"/>
                        <field name="consumer_younger_lastname" attrs="{'required':[('consumer_younger','=',True)]}"/>
                        <field name="consumer_younger_document" attrs="{'required':[('consumer_younger','=',True)]}"/>
                    </group>
                    <!-- IDENTIFICACIÓN DEL BIEN CONTRATADO -->
                    <group string="IDENTIFICACIÓN DEL BIEN CONTRATADO">
                        <group>
                            <field name="product_type" widget="radio"/>
                            <field name="product_code"/>
                            <field name="product_name"/>
                        </group>
                        <group>
                            <field name="order_name"/>
                            <field name="date_order"/>
                        </group>
                    </group>
                    <!-- DETALLE DE RECLAMO O QUEJA -->
                    <group string="DETALLE DE RECLAMO O QUEJA">
                        <field name="claim_type" widget="radio"/>
                        <field name="claim_amount"/>
                        <field name="claim_detail"/>
                        <field name="claim_request"/>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids" widget="mail_followers"/>
                    <field name="message_ids" widget="mail_thread"/>
                </div>
            </form>
        </field>
    </record>

    <record id="view_search_libro_reclamaciones" model="ir.ui.view">
        <field name="name">view.search.libro.reclamaciones</field>
        <field name="model">libro.reclamaciones</field>
        <field name="arch" type="xml">
            <search>
                <field name="name" string="Reclamo"/>
                <field name="consumer_company_name" string="Cliente" filter_domain="['|','|','|','|','|','|','|','|','|','|','|',
                                                                        ('consumer_company_name','ilike',self),
                                                                        ('consumer_company_document','ilike',self),
                                                                        ('consumer_name','ilike',self),
                                                                        ('consumer_lastname','ilike',self),
                                                                        ('consumer_document','ilike',self),
                                                                        ('consumer_younger_name','ilike',self),
                                                                        ('consumer_younger_lastname','ilike',self),
                                                                        ('consumer_younger_document','ilike',self),
                                                                        ('consumer_phone','ilike',self),
                                                                        ('consumer_email','ilike',self),
                                                                        ('consumer_address','ilike',self),
                                                                        ('order_name','ilike',self)]"/>
                <separator/>
                <filter name="claim_type_reclamo" string="Reclamo" domain="[('claim_type','=','reclamo')]"/>
                <filter name="claim_type_queja" string="Queja" domain="[('claim_type','=','queja')]"/>
                <separator/>
                <filter name="consumer_type_individual" string="Persona Natural" domain="[('consumer_type','=','individual')]"/>
                <filter name="consumer_type_company" string="Empresa" domain="[('consumer_type','=','company')]"/>
                <separator/>
                <group expand="1" string="Agrupado por">
                    <filter name="claim_type" string="Tipo de reclamo" context="{'group_by':'claim_type'}"/>
                    <filter name="consumer_type" string="Tipo de cliente" context="{'group_by':'consumer_type'}"/>
                    <filter name="date_order" string="Órden de venta" context="{'group_by':'date_order'}"/>
                    <filter name="create_date" string="Fecha de reclamo" context="{'group_by':'create_date'}"/>
                </group>
            </search>
        </field>
    </record>

    <record id="view_action_libro_reclamaciones" model="ir.actions.act_window">
        <field name="name">Libro de Reclamaciones</field>
        <field name="res_model">libro.reclamaciones</field>
        <field name="view_mode">tree,form</field>
    </record>

    <menuitem id="menu_action_libro_reclamaciones" 
                string="Libro de Reclamaciones" 
                name="Libro de Reclamaciones" 
                action="view_action_libro_reclamaciones"
                web_icon="bo_libro_reclamaciones,static/description/icon.png"
                sequence="10"/>
</odoo>